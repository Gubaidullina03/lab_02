# lb_02. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. HTTP, –≤–µ–±-—Å–µ—Ä–≤–µ—Ä—ã –∏ RESTful –≤–µ–±-—Å–µ—Ä–≤–∏—Å—ã.

# –¶–µ–ª–∏ —Ä–∞–±–æ—Ç—ã:
- –∏–∑—É—á–∏—Ç—å –º–µ—Ç–æ–¥—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ telnet –∏ curl
- –æ—Å–≤–æ–∏—Ç—å –±–∞–∑–æ–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –∞–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—Ç—ã HTTP-—Å–µ—Ä–≤–µ—Ä–∞ nginx –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏
- –∏–∑—É—á–∏—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Å—Ç–∏–ª—è REST –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤ (API) –Ω–∞ —è–∑—ã–∫–µ Python


## 8 –≤–∞—Ä–∏–∞–Ω—Ç. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞ lenta.ru —á–µ—Ä–µ–∑ telnet –Ω–∞ –ø–æ—Ä—Ç—É 80.
–ü—Ä–µ–¥–º–µ—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å

<img width="1256" height="336" alt="GHJ" src="https://github.com/user-attachments/assets/7d221699-84c4-472b-a2f8-4672a19fb910" />

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –≤ VS Code

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–µ–∫—Ç–∞ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª. –î–ª—è —ç—Ç–æ–≥–æ –æ—Ç–∫—Ä–æ–µ–º –µ–≥–æ, –≤—ã–±—Ä–∞–≤ –≤ –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é Terminal -> New Terminal. –í –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏–º —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏
–ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:
```
mkdir lenta_api
cd lenta_api
```

<img width="610" height="80" alt="1 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/726be59e-2b1f-429a-9a7d-d99d947e8c4f" />


## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
(–¥–æ–ø–æ–ª–Ω–∏—Ç—å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º)

<img width="170" height="160" alt="2 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/9e7e5f2b-c606-4474-a30f-e1026db2d45f" />


<img width="1422" height="303" alt="–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏–∏—è" src="https://github.com/user-attachments/assets/72b69470-57a9-428f-ad4a-c1ac65a1453c" />


# HTTP-–∞–Ω–∞–ª–∏–∑ API –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ –†–æ—Å—Å–∏–∏ –∏ –≤—Å–µ–º—É –º–∏—Ä—É(?)
## –ó–∞–¥–∞—á–∞ 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ lenta.ru —á–µ—Ä–µ–∑ telnet –Ω–∞ –ø–æ—Ä—Ç—É 80.
–ù–æ–≤–æ—Å—Ç–Ω–æ–π —Å–∞–π—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–¥–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–Ω—ã–µ –ª–µ–Ω—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ RSS. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ–º —É—Ç–∏–ª–∏—Ç—É telnet –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–≤–µ—Ç–∞.

1.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Ç–∏–ª–∏—Ç. –ü–æ—Å–∫–æ–ª—å–∫—É telnet –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –≤—ã–ø–æ–ª–Ω–∏–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```
sudo apt update
```

<img width="799" height="307" alt="3 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/fa65903c-340c-4d26-a8f0-6f233396e094" />

```
sudo apt install telnet
```

<img width="830" height="171" alt="4 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/8a22122c-e4b5-4566-9496-f40459871f43" />

```
sudo apt update && sudo apt install libxml2-utils -y
```

<img width="874" height="367" alt="5 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/5e228d2f-33bb-4bcf-a4c9-4eb567e33121" />

1.2. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞. –í—ã–ø–æ–ª–Ω–∏–º GET-–∑–∞–ø—Ä–æ—Å –∫ API. –í–≤–µ–¥–µ–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª VS Code:
–ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ lenta.ru(–∫–∞–∂–¥—ã–π —Ä–µ–∑—É–ª—Ç–∞—Ç –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –≤—ã–≤–æ–¥–∞ –æ—Ç–≤–µ—Ç–∞)

```
telnet lenta.ru 80
```
```
GET / HTTP/1.1
Host: lenta.ru
```

<img width="690" height="483" alt="6 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/598a1b90-78b9-432c-b367-650fe9c9ed78" />

–ó–∞–ø—Ä–æ—Å –∫ RSS (–µ—Å–ª–∏ –µ—Å—Ç—å)

```
telnet lenta.ru 80
```
```
GET /rss HTTP/1.1
Host: lenta.ru
```

<img width="607" height="445" alt="7 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/ea935290-b54a-4af8-a54d-4de8403e73e8" />

–ó–∞–ø—Ä–æ—Å —Å –ø–æ–ª–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ 

```
telnet lenta.ru 80
```
```
GET / HTTP/1.1
Host: lenta.ru
User-Agent: Mozilla/5.0
Accept: text/html
```

<img width="589" height="488" alt="8 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/3bf605d3-44f8-45ef-9701-ce9ef1b5c8d1" />

–ó–∞–ø—Ä–æ—Å —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–∏ 

```
telnet lenta.ru 80
```
```
GET / HTTP/1.1
Host: lenta.ru
Accept-Charset: utf-8
```

<img width="605" height="463" alt="9 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/0a1b004e-fd99-472f-a572-46afcc59790e" />


# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ REST API "–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π"
## –ó–∞–¥–∞—á–∞ 2. –°–æ–∑–¥–∞—Ç—å API –Ω–∞ Python –∏ Flask –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º —Å–æ–±—ã—Ç–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
–î–∞–Ω–Ω—ã–π API-—Å–µ—Ä–≤–∏—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–µ–±-—Ä–µ—Å—É—Ä—Å–æ–≤. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–æ–≤ –∏ –ø–æ–ª—É—á–∞—Ç—å –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é —ç—Ç–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤ –∏–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
–°–µ—Ä–≤–∏—Å –æ–ø–µ—Ä–∏—Ä—É–µ—Ç –æ–¥–Ω–æ–π –∫–ª—é—á–µ–≤–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é ‚Äî "–°–æ–±—ã—Ç–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞".

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ REST API

<img width="1138" height="301" alt="FGH" src="https://github.com/user-attachments/assets/37124379-469f-4f08-bfab-7cb0aec428ee" />

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö "–°–æ–±—ã—Ç–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"

–ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏:
- id (—á–∏—Å–ª–æ). –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏—è. –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- event_name (—Å—Ç—Ä–æ–∫–∞). –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
- date (—Å—Ç—Ä–æ–∫–∞). –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO.

## –ü—Ä–∏–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ "–°–æ–±—ã—Ç–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"

```
<>JSON
{
  "id": 1,
  "event_name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ lenta.ru —á–µ—Ä–µ–∑ telnet –Ω–∞ –ø–æ—Ä—Ç—É 80",
  "date": "2025-11-02T17:10:56.123456"
}
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (API Endpoints)

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

A. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

-Endpoint. GET /api/events
-–ß—Ç–æ –¥–µ–ª–∞–µ—Ç. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–≥–¥–∞-–ª–∏–±–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ —Å–æ–±—ã—Ç–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
-–ë–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–π. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤ "–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫", –∞–Ω–∞–ª–∏–∑–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–æ–≤, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–µ–Ω—Ç—ã —Å–æ–±—ã—Ç–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

–ë. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

-Endpoint. POST /api/events
-–ß—Ç–æ –¥–µ–ª–∞–µ—Ç. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è –∏ –¥–∞—Ç–µ.
-–ë–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–π. –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞ lenta.ru —á–µ—Ä–µ–∑ telnet –Ω–∞ –ø–æ—Ä—Ç—É 80.

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ API –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

–ü—Ä–æ–±–ª–µ–º–∞. –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è API –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ "—Å—ã—Ä—ã–µ" –¥–∞–Ω–Ω—ã–µ ‚Äî –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–æ–≤ —ç—Ç–æ–≥–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –æ–±—â—É—é –∫–∞—Ä—Ç–∏–Ω—É —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã, –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ç–æ–≥–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—à–∏–±–æ–∫). –î–µ–ª–∞—Ç—å —ç—Ç–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

–†–µ—à–µ–Ω–∏–µ. –î–æ–±–∞–≤–∏—Ç—å –≤ API —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —É–∂–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–∞–Ω–Ω—ã–µ.

–ó–∞–¥–∞—á–∞. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç GET /api/summary
–≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–≤–æ–¥–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É.

## –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£—Å—Ç–∞–Ω–æ–≤–∏–º –ø–∞–∫–µ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π, –ø–æ—Å–∫–æ–ª—å–∫—É –µ–≥–æ –Ω–µ—Ç:

```
sudo apt install python3-venv -y
```
–°–æ–∑–¥–∞–¥–∏–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ –≤ –ø–∞–ø–∫–µ 'venv‚Äô

```
python3 -m venv venv
```
–ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```
source venv/bin/activate
```

<img width="793" height="226" alt="10 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/b322fe62-851e-4eda-9cca-a8d36c279009" />

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Flask. –° –∞–∫—Ç–∏–≤–Ω—ã–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏–º Flask:

```
pip install Flask
```

<img width="599" height="101" alt="11 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/851e2273-04ac-48ef-8145-cbc77d078980" />


## –ù–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞ API. 

–í VS Code —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª app.py –≤ –ø–∞–ø–∫–µ lenta_api –∏ –≤—Å—Ç–∞–≤–∏–º –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```
from flask import Flask, request, jsonify
from datetime import datetime
import uuid

app = Flask(name)

# –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–±—ã—Ç–∏–π
events = [
    {
        "id": "1",
        "event_name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ lenta.ru —á–µ—Ä–µ–∑ telnet –Ω–∞ –ø–æ—Ä—Ç—É 80",
        "date": "2025-11-02T19:10:00.000000"
    },
    {
        "id": "2",
        "event_name": "–£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ lenta.ru:80",
        "date": "2025-11-02T19:15:00.000000"
    },
    {
        "id": "3", 
        "event_name": "–ê–Ω–∞–ª–∏–∑ HTTP –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ nginx",
        "date": "2025-11-02T19:20:00.000000"
    }
]


@app.route('/api/events', methods=['GET'])
def get_events():
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    """
    return jsonify(events)

@app.route('/api/events', methods=['POST'])
def add_event():
    """
    –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    """
    data = request.get_json()
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    if not data or 'event_name' not in data:
        return jsonify({"error": "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ 'event_name'"}), 400
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
    new_event = {
        "id": str(uuid.uuid4()),
        "event_name": data['event_name'],
        "date": data.get('date', datetime.now().isoformat())
    }
    
    events.append(new_event)
    
    return jsonify(new_event), 201

@app.route('/api/events/<event_id>', methods=['GET'])
def get_event(event_id):
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –ø–æ ID
    """
    event = next((e for e in events if e['id'] == event_id), None)
    
    if event is None:
        return jsonify({"error": "–°–æ–±—ã—Ç–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"}), 404
    
    return jsonify(event)

@app.route('/api/summary', methods=['GET'])
def get_summary():
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å–æ–±—ã—Ç–∏—è–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    """
    if not events:
        return jsonify({
            "total_events": 0,
            "message": "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"
        })
    
    total_events = len(events)
    
    # –ü–æ–¥—Å—á–µ—Ç —Å–æ–±—ã—Ç–∏–π –ø–æ —Ç–∏–ø–∞–º (–º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –≤–∞—à—É –ª–æ–≥–∏–∫—É)
    site_checks = [e for e in events if 'lenta.ru' in e['event_name'] or '–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å' in e['event_name']]
    telnet_checks = [e for e in events if 'telnet' in e['event_name'].lower()]
    
    # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π –ø–æ –¥–∞—Ç–µ
    sorted_events = sorted(events, key=lambda x: x['date'], reverse=True)
    
    summary = {
        "total_events": total_events,
        "site_checks_count": len(site_checks),
        "telnet_checks_count": len(telnet_checks),
        "last_check_time": sorted_events[0]['date'] if sorted_events else None,
        "recent_events": sorted_events[:5]  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Å–æ–±—ã—Ç–∏–π
    }
    
    return jsonify(summary)

@app.route('/api/health', methods=['GET'])
def health_check():
    """
    –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
    """
    return jsonify({
        "status": "healthy",
        "timestamp": datetime.now().isoformat(),
        "events_count": len(events)
    })

if name == 'main':
    app.run(host='0.0.0.0', port=5000, debug=True)
```

## –ó–∞–ø—É—Å–∫ Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ù–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –∞–∫—Ç–∏–≤–Ω—ã–º (venv) –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:
```
python3 app.py
```

<img width="976" height="139" alt="12 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/5d00bbb9-2b67-40f4-9806-f52807a4b87e" />

–ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–µ–º –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ —É—Å—Ç–∞–Ω–æ–≤–∏–º jq:

```
sudo apt install jq -y
```

<img width="827" height="179" alt="13 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/ac3d3fa1-d5a0-4daf-96e0-c8271bc04126" />

## –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

```
curl -s http://127.0.0.1:5000/api/transactions | jq
```


<img width="1206" height="347" alt="–∫–æ–Ω–µ—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç" src="https://github.com/user-attachments/assets/bf111f5e-5948-4642-a51b-aaa7ab49f69d" />

## –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–¥–∫–∏

```
curl -s http://127.0.0.1:5000/api/summary | jq
```

<img width="1319" height="356" alt="16 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/e46c5430-6e96-4dc0-b311-d3ae6a030583" />


## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è (?)

–î–ª—è —ç—Ç–æ–≥–æ —Ç–ø—Ä–∞–≤–∏–º POST-–∑–∞–ø—Ä–æ—Å, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å:

```
curl -X POST -H "Content-Type: application/json" \
  -d '{"event_name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ lenta.ru —á–µ—Ä–µ–∑ telnet –Ω–∞ –ø–æ—Ä—Ç—É 80"}' \
  http://127.0.0.1:5000/api/events | jq
```

<img width="1339" height="232" alt="17 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/f35070b6-ff97-41e9-8802-6a60e00c81b7" />

## –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

```
curl http://127.0.0.1:5000/api/transactions
```

<img width="1334" height="405" alt="18 —Ñ–æ—Ç–æ" src="https://github.com/user-attachments/assets/29b5c782-0f84-44ed-b9ae-3374ae188f4c" />

## –ó–∞–¥–∞—á–∞ 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (rate limit) –≤ 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É —Å –æ–¥–Ω–æ–≥–æ IP.
# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ REST API —Å Nginx


<img width="1454" height="308" alt="DFGH" src="https://github.com/user-attachments/assets/6db39f68-73e8-4ae7-bf3b-14cb4111e855" />


# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞" (Nginx)
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞–∫–µ—Ç nginx
```
sudo apt install nginx -y
```

<img width="655" height="195" alt="19 —Ñ" src="https://github.com/user-attachments/assets/0c905355-0ae9-4b79-9f76-e0c80cd405be" />

–ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
```
sudo systemctl start nginx
```

–í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã
```
sudo systemctl enable nginx
```

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (?)

–¢–µ–ø–µ—Ä—å –∑–∞–¥–∞–¥–∏–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω –Ω–∞ –æ–¥–∏–Ω IP –¥–ª—è Nginx. –û—Ç–∫—Ä–æ–µ–º —Ñ–∞–π–ª:

```
sudo nano /etc/nginx/nginx.conf
```
–ò –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞, –≤ –±–æ–ª—å—à–æ–º –±–ª–æ–∫–µ http { ... }, –¥–æ–±–∞–≤–∏–º –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É. –û–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–≤–æ–¥–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ–¥–Ω–æ–≥–æ IP:

```
limit_req_zone $binary_remote_addr zone=api_limit:10m rate=10r/m;
```


<img width="662" height="339" alt="24" src="https://github.com/user-attachments/assets/99a2fceb-e25d-4597-97a1-c6d509712902" />


# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–π" –¥–ª—è API (?)




# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑–º–µ–Ω–µ–Ω—ã, –Ω–æ Nginx –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ-—Å—Ç–∞—Ä–æ–º—É. –ù—É–∂–Ω–æ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

–ü—Ä–æ–≤–µ—Ä–∏–º, –Ω–µ—Ç –ª–∏ –≤ –Ω–∞—à–∏—Ö —Ñ–∞–π–ª–∞—Ö —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

```
sudo nginx -t
```


# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: ... syntax is ok ... test is successful
# 2. –ï—Å–ª–∏ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Nginx, —á—Ç–æ–±—ã –æ–Ω
–ø—Ä–∏–º–µ–Ω–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è
sudo systemctl restart nginx
class StockTickerServicer(fin_pb2_grpc.StockTickerServicer):
    def SubscribeToStockUpdates(self, request_iterator, context):
        """Bidirectional streaming RPC"""
        print("Client connected to stock updates stream")
        
        try:
            for ticker_request in request_iterator:
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–ª–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
                if hasattr(ticker_request, 'ticker_symbol'):
                    symbol = ticker_request.ticker_symbol
                    print(f"Received subscription for: {symbol}")
                    
                    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–∫–µ—Ä–∞
                    for i in range(5):  # 5 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –Ω–∞ —Ç–∏–∫–µ—Ä
                        if not context.is_active():
                            print("Client disconnected")
                            return
                        
                        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∞–∫—Ü–∏–∏
                        base_price = random.uniform(100, 500)
                        current_price = round(base_price + random.uniform(-5, 5), 2)
                        price_change = round(current_price - base_price, 2)
                        change_percent = round((price_change / base_price) * 100, 2)
                        
                        # –°–æ–∑–¥–∞–µ–º –æ—Ç–≤–µ—Ç
                        update = fin_pb2.StockUpdate(
                            ticker_symbol=symbol,
                            current_price=current_price,
                            price_change=price_change,
                            change_percent=change_percent,
                            timestamp=int(time.time()),
                            volume=random.randint(1000, 100000)
                        )
                        
                        print(f"Sending update for {symbol}: ${current_price}")
                        yield update
                        time.sleep(2)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
                else:
                    print("Invalid request: missing ticker_symbol")
                    
        except Exception as e:
            print(f"Error in stream: {e}")
            raise
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
def serve():
    server = grpc.server(futures.ThreadPoolExecutor(max_workers=10)) # –°–æ–∑–¥–∞–µ–º gRPC —Å–µ—Ä–≤–µ—Ä —Å –ø—É–ª–æ–º –∏–∑ 10 –ø–æ—Ç–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ 10 –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ


    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –Ω–∞—à —Å–µ—Ä–≤–∏—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ —Å–≤—è–∑—ã–≤–∞–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å gRPC –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º
    fin_pb2_grpc.add_StockTickerServicer_to_server(
        StockTickerServicer(), server
    )
    
    port = 50051
    server.add_insecure_port(f'[::]:{port}')
    server.start()
    print(f"Server started on port {port}")
    
    try:
        while True:
            time.sleep(86400)
    except KeyboardInterrupt:
        server.stop(0)

if __name__ == '__main__':
    serve()
```

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª client.py –∏ –Ω–∞–ø–∏—à–∏–º –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞:

```python
import grpc
import time
import fin_pb2
import fin_pb2_grpc

def run():
    try:
        # –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –Ω–∞ —Å–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 50051
        with grpc.insecure_channel('localhost:50051') as channel:
            stub = fin_pb2_grpc.StockTickerStub(channel)
            
            print("Connecting to Stock Ticker Server...")
            
            # –°–æ–∑–¥–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤
            def request_generator():
                tickers = ["AAPL", "GOOGL", "TSLA", "MSFT"]
                for ticker in tickers:
                    yield fin_pb2.TickerRequest(ticker_symbol=ticker)  # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—á–µ—Ä–µ–¥–Ω–æ–π –∑–∞–ø—Ä–æ—Å –±–µ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
                    time.sleep(3)
            
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å—ã –∏ –ø–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç—ã/ –≤—ã–∑—ã–≤–∞–µ–º —É–¥–∞–ª–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
            responses = stub.SubscribeToStockUpdates(request_generator())
            
            for response in responses:
                print(f"\nüìà {response.ticker_symbol}:")
                print(f"   Price: ${response.current_price:.2f}")
                print(f"   Change: {response.price_change:+.2f} ({response.change_percent:+.2f}%)")
                print(f"   Volume: {response.volume:,}")
                print(f"   Time: {time.strftime('%H:%M:%S', time.localtime(response.timestamp))}")
                
    except grpc.RpcError as e:
        print(f"RPC error: {e}")
    except Exception as e:
        print(f"Error: {e}")

if __name__ == '__main__':
    run()
```

## –®–∞–≥ 5: –∑–∞–ø—É—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞.
–û—Ç–∫—Ä–æ–µ–º –ø–µ—Ä–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (source venv/bin/activate) –∏ –∑–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä:

```python
python server.py
```


<img width="427" height="222" alt="Screenshot_152" src="https://github.com/user-attachments/assets/279a9d75-7a94-47b5-bf7d-1fca0541fc60" />

–û—Ç–∫—Ä–æ–µ–º –≤—Ç–æ—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º —Ç–æ –∂–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å—Ç–∏–º –∫–ª–∏–µ–Ω—Ç:

```python
python client.py
```


<img width="464" height="252" alt="Screenshot_153" src="https://github.com/user-attachments/assets/dc3caf75-c955-416d-a4a9-54fde20e2de7" />


## –í—ã–≤–æ–¥
–í —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –º–Ω–æ–π –±—ã–ª —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Å–µ—Ä–≤–∏—Å StockTicker —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ gRPC. –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –±—ã–ª–∏ –æ—Å–≤–æ–µ–Ω—ã –∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏:

1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞.
–° –ø–æ–º–æ—â—å—é —è–∑—ã–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ Protocol Buffers (–≤ —Ñ–∞–π–ª–µ fin.proto) –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è —Å—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –≤–∫–ª—é—á–∞—é—â–∞—è —Å–µ—Ä–≤–∏—Å—ã, –º–µ—Ç–æ–¥—ã –∏ —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —è–∑—ã–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã grpcio-tools –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Python-–∫–æ–¥–∞ –∏–∑ .proto-—Ñ–∞–π–ª–∞, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—Å—Ç–∏–ª–æ –∏ —É—Å–∫–æ—Ä–∏–ª–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, —Å–æ–∑–¥–∞–≤ –≥–æ—Ç–æ–≤—ã–π –∫–∞—Ä–∫–∞—Å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞.
3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Bidirectional Streaming RPC.
–ë—ã–ª —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω Bidirectional Streaming RPC –¥–ª—è –º–µ—Ç–æ–¥–∞ SubscribeToStockUpdates, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ö–ª–∏–µ–Ω—Ç—É –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–æ–≤—ã–µ —Ç–∏–∫–µ—Ä—ã –∞–∫—Ü–∏–π
- –°–µ—Ä–≤–µ—Ä—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û–±–µ–∏–º —Å—Ç–æ—Ä–æ–Ω–∞–º –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
4. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
–ë—ã–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –∑–∞–ø—É—â–µ–Ω—ã –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- –°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤
- –ö–ª–∏–µ–Ω—Ç –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã
